# 예약 목록 관리 앱
이 프로젝트는 JSON 형식의 예약 데이터를 가져와 JavaScript를 이용하여 예약 목록을 생성 및 관리할 수 있는 앱을 구현하였습니다.
 
 
## 페이지 주소
https://dhleeeeeee.github.io/tabling_reservations/


## 앱의 작동 순서


1. 화면이 로드될 때 시스템을 초기화합니다.
2. 초기화 함수 내 API 호출 함수를 사용해 지정된 API 경로에서 데이터를 가져옵니다.
3. 받아온 데이터를 로컬 스토리지에 저장합니다.
4. 로컬 스토리지의 데이터를 바탕으로 예약 목록 리스트를 구성합니다.
5. 데이터 중 가장 상위의 예약 데이터의 내용을 예약 상세란에 표시합니다.


## 예약 리스트의 구성


데이터를 가져오기 위해 fetch 메소드를 사용하였고, 배열 형태의 예약 데이터를 가져왔습니다. 상태 값이 'done'이 아닌 예약 데이터만 리스트에 표시하기 위해 filter 메소드로 데이터를 선별한 후, forEach 메소드로 각 예약 데이터를 리스트 아이템 생성 함수에 전달하여 리스트 아이템을 생성하였습니다.


### 문제점 및 해결
1. 데이터 호출 기능이 비동기적으로 작동하여, 데이터 구성 전에 HTML이 생성되어 내용이 비어 보일 수 있습니다. 이를 해결하기 위해 async/await 구문을 사용하여 데이터 구성이 완료된 후 리스트 아이템 생성 함수를 실행하도록 하였습니다.
2. 데이터의 예약 시간과 접수 시간 형식은 YYYY-MM-DD HH:mm:ss 입니다. 하지만 앱에서 시간을 표시할 때는 HH:mm 형식으로 표시해야 합니다. 이를 위해 시간 포맷을 변경하는 함수를 따로 만들어 시간 데이터가 들어가는 모든 코드에서 사용하여 시간 포맷을 일관되게 표시하였습니다.


## 예약 리스트의 기능


1. 예약 리스트의 아이템을 클릭하면 해당 아이템의 내용이 예약 상세란에 표시됩니다.
2. 예약 리스트 아이템의 좌측에는 예약 상태를 나타내며, 상태에 따라 내용과 글자 색상이 다르게 표시됩니다  
(reserved는 "예약", seated는 "착석 중").
4. 예약 리스트 아이템의 우측에 있는 버튼을 클릭하여 해당 데이터의 상태를 변경하고 관리할 수 있습니다.  
([착석] 버튼을 클릭하면, [퇴석]으로 버튼 변경, [퇴석] 버튼을 클릭하면 예약 목록에서 제거)
 


### 문제점 및 해결


1. 예약 상세란에 표시되는 기능이 작동할 때, 클릭된 아이템의 데이터를 표시해야 합니다. 이를 위해 HTML 구성 시 리스트 아이템 요소의 ID 속성에 해당 데이터의 ID 값을 입력하였고, 이 ID 값과 일치하는 데이터를 가져와 표시되도록 하였습니다.
2. 예약 리스트 아이템의 버튼 기능은 동적으로 데이터 상태 값을 변경하며, 변경된 상태에 따라 예약 리스트를 구성해야 합니다. 리스트 아이템이 구성될 때 버튼에도 해당 데이터의 ID 값을 ID 속성에 입력하였습니다. (리스트 아이템 ID와 중복을 피하기 위해 'btn' 문자열을 추가) 버튼 ID와 동일한 ID 값을 가진 데이터의 상태 값을 변경한 후, 리스트 업데이트 함수를 사용하여 변경된 데이터로 다시 HTML을 생성하도록 하였습니다. (replace 메소드로 ID 속성의 문자열을 제거)
3. 예약 리스트 아이템의 버튼을 클릭했을 때, 해당 데이터의 상태 값이 'done'으로 변경되어 리스트에서 제거되면, 사용자 경험을 개선하기 위해 리스트 최상단 아이템의 데이터를 예약 상세란에 표시하는 것이 좋습니다. 따라서 클릭된 아이템의 데이터 상태 값이 'done'이 될 때, 상태 값이 'done'이 아닌 데이터 중 최상단의 데이터를 표시하도록 하였고, 예약 리스트에 아무것도 남지 않았을 경우 예약 상세란을 비워두는 초기화 함수를 작성하였습니다.
